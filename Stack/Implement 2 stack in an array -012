#include <bits/stdc++.h>
using namespace std;

/*
============================================================
üß† CLASS NAME: twoStacks
============================================================
üí° PURPOSE:
Implements two stacks using a single vector (array) to optimize space.
The first stack grows from the left side, and the second stack grows from
the right side of the same array.

This approach ensures that unused space in one stack can be utilized
by the other ‚Äî making memory usage more efficient.

------------------------------------------------------------
üß© KEY OPERATIONS:
- push1(x): Push element into Stack 1 (left side)
- push2(x): Push element into Stack 2 (right side)
- pop1(): Pop top element from Stack 1
- pop2(): Pop top element from Stack 2

Each operation runs in O(1) time complexity.
------------------------------------------------------------
*/

class twoStacks {
public:
    vector<int> arr;   // Shared array for both stacks
    int left;          // Top pointer for Stack 1
    int right;         // Top pointer for Stack 2

    // --------------------------------------------------------
    // üèóÔ∏è Constructor: Initializes the shared array and pointers
    // --------------------------------------------------------
    twoStacks() {
        arr = vector<int>(100, -1); // Vector of size 100 initialized with -1
        left = -1;                  // Stack 1 starts before index 0
        right = arr.size();         // Stack 2 starts after the last index
    }

    // --------------------------------------------------------
    // ‚ûï Push element into Stack 1
    // --------------------------------------------------------
    void push1(int x) {
        if (left + 1 == right) {
            cout << "‚ö†Ô∏è Stack Overflow in Stack 1\n";
            return;
        }
        arr[++left] = x;
    }

    // --------------------------------------------------------
    // ‚ûï Push element into Stack 2
    // --------------------------------------------------------
    void push2(int x) {
        if (right - 1 == left) {
            cout << "‚ö†Ô∏è Stack Overflow in Stack 2\n";
            return;
        }
        arr[--right] = x;
    }

    // --------------------------------------------------------
    // ‚ûñ Pop element from Stack 1
    // --------------------------------------------------------
    int pop1() {
        if (left == -1) {
            cout << "‚ö†Ô∏è Stack Underflow in Stack 1\n";
            return -1;
        }
        return arr[left--];
    }

    // --------------------------------------------------------
    // ‚ûñ Pop element from Stack 2
    // --------------------------------------------------------
    int pop2() {
        if (right == arr.size()) {
            cout << "‚ö†Ô∏è Stack Underflow in Stack 2\n";
            return -1;
        }
        return arr[right++];
    }
};


// ------------------------------------------------------------
// üß™ Example usage (for testing/demo)
// ------------------------------------------------------------
int main() {
    twoStacks st;

    st.push1(10);
    st.push1(20);
    st.push2(30);
    st.push2(40);

    cout << "Popped from Stack 1: " << st.pop1() << endl; // 20
    cout << "Popped from Stack 2: " << st.pop2() << endl; // 40

    return 0;
}
